# ğŸ˜ 5.0~5.7 container ğŸ˜

## section5.0 Container Presenter Pattern part One

ì»¨í…Œì´ë„ˆ í”„ë¦¬ì  í„° íŒ¨í„´ : ì»¨í…Œì´ë„ˆëŠ” dataë¥¼ ê°€ì§€ê³  state(ìƒíƒœê°’)ë¥¼ ê°€ì§€ê³ , apië¥¼ ë¶ˆëŸ¬ì˜¨ ë‹¤ìŒ, ëª¨ë“  ë¡œì§ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. ê·¸ ë‹¤ìŒì— í”„ë¦¬ì  í„°(=í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸, ìƒíƒœê°’ì„ ê°€ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.)ëŠ” ê·¸ ë°ì´í„°ë“¤ì„ ë³´ì—¬ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

## section5.1 Container Presenter Pattern part Two

ê¸°ëŠ¥ë³„ë¡œ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ index.js, HomeContainer.js, HomePresenter.jsê³¼ ê°™ì´ ì„¸ ê°œì˜ jsíŒŒì¼ì„ ë§Œë“  í›„, ê¸°ëŠ¥ë³„ë¡œ í•„ìš”í•œ ë°ì´í„°ëŠ” containerì— ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.

## section5.2 Home Container

ì‘ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²½ìš°ì—ëŠ” componentDidMountë¡œ ì²˜ë¦¬í•˜ë©´ ë˜ì§€ë§Œ, ë°ì´í„° ì²˜ë¦¬ëŸ‰ì´ ë§ì„ ê²½ìš°, ë‹¤ë¥¸ í•¨ìˆ˜ë“¤ë¡œ ë¶„ë¦¬í•´ì„œ ë§Œë“  í›„, thisë¥¼ ì‚¬ìš©í•´ì„œ í•¨ìˆ˜ë¥¼ ë¶ˆëŸ¬ë“¤ì´ë©´ ë©ë‹ˆë‹¤.

async & awaitëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸í•œí…Œ ì´ê±° ëë‚  ë•Œê¹Œì§€ ë‹¤ìŒ ê²ƒì„ ì§„í–‰í•˜ì§€ ë§ë¼ëŠ” ëœ»ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. async & awaitëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ íŒ¨í„´ì€ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.

íŠ¹ì •ë¡œì§ì˜ ì‹¤í–‰ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì£¼ì§€ ì•Šê³  ë‚˜ë¨¸ì§€ ì½”ë“œë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ë¹„ë™ê¸° ì²˜ë¦¬ë¼ê³  í•©ë‹ˆë‹¤.

ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ callback í•¨ìˆ˜ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

ë¹„ë™ê¸° ì²˜ë¦¬ ê´€ë ¨ ê¸€ : <https://joshua1988.github.io/web-development/javascript/javascript-asynchronous-operation/>

Promiseë€? ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì— ì‚¬ìš©ë˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤. ì£¼ë¡œ ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ í™”ë©´ì— í‘œì‹œí•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

A promise is an object that may produce a single value some time in the future.

apië¥¼ í†µí•´ ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜¬ ë•Œ, ë¹„ë™ê¸°ì²˜ë¦¬(async-await ì‚¬ìš©)ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, consoleì°½ì— Promiseë¡œ ì¶œë ¥ë  ê²ƒì´ê³  ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ apië¥¼ í†µí•´ ëª¨ë“  ì •ë„ë¥¼ ë°›ì€ í›„, consoleì°½ì— ì¶œë ¥ì„ í•˜ê²Œ ë˜ë©´ dataë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Object deconstruction(ê°ì²´ ë¹„êµ¬ì¡°í™” í• ë‹¹):

```javascipts
const {
    data: { results: nowPlaying }
    } = await moviesApi.nowPlaying();
    const {
        data: { results: upcoming }
    } = await moviesApi.upcoming();
    const {
        data: { results: popular }
    } = await moviesApi.popular();
    this.setState({
        nowPlaying,
        upcoming,
        popular
    })
}
```

ìœ„ ì½”ë“œì™€ ê°™ì´ ì‘ì„±í•˜ëŠ” ë°©ì‹ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

## section5.3 TV Container

```async componentDidMount(){}``` ì™€ ```componentDidMount = async() => {}```ëŠ” ê°™ì€ ì½”ë“œì…ë‹ˆë‹¤.

## section5.4 Search Container

ëˆ„êµ°ê°€ê°€ í¼ì—ì„œ textë¥¼ ì…ë ¥í•˜ê³ , ì—”í„°ë¥¼ ëˆ„ë¥´ë©´, ê·¸ê²Œ handleSubmitì´ ë©ë‹ˆë‹¤.

## section5.5 Detail Container part One

Routeì—ê²ŒëŠ” defaultë¡œ ëª¨ë“  ì •ë³´ë¥¼ ì œê³µí•´ì¤ë‹ˆë‹¤.

```javascript
async componentDidMount(){
        const {
            match : {
                params: { id }
            },
            history: { push }
        } = this.props;
        const parseId = parseInt(id);
        if(isNaN(parseId)){
            return push("/");
        }
    }
```

propsì—ëŠ” matchë¼ëŠ” ì†ì„±ì´ ì¡´ì¬í•˜ëŠ”ë° paramsê°’ ì•ˆì— urlë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

historyì—ëŠ” ë‹¤ì–‘í•œ í•¨ìˆ˜ê°€ ì¡´ì¬í•˜ê³  ê·¸ ì¤‘ pushëŠ” í•´ë‹¹ urlë¡œ ì „í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

javasciptëŠ” í•¨ìˆ˜ë¥¼ ì´ìš©í•œ í›„, í•¨ìˆ˜ë¥¼ ì¢…ë£Œì‹œí‚¤ê¸° ìœ„í•´ì„œ, ```return push("/")```ì™€ ê°™ì´ returnë¥¼ ì´ìš©í•´ í•¨ìˆ˜ ì‹¤í–‰ í›„, ì¢…ë£Œë¥¼ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## section5.6 Detail Container part Two

```javascript
super(props);
```

superëŠ” ë¶€ëª¨ ì˜¤ë¸Œì íŠ¸ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë–„ ì‚¬ìš©ë©ë‹ˆë‹¤.  

ì¦‰, propsë¥¼ ë¶€ëª¨ ì˜¤ë¸Œì íŠ¸ë¡œ ì‚¼ì•„ì„œ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ìƒì„±ìì˜ ì—­í• ì„ í•©ë‹ˆë‹¤.

## section5.7 Destructuring assignment with let

```javascript
({
    data: result
} = await moviesApi.movieDetail(parseId));
```

```javascript
const request = await tvApi.showDetail(parseId);
result = request.data;
```

ìœ„ ë‘ ì½”ë“œëŠ” ê°™ì€ ì½”ë“œì…ë‹ˆë‹¤.  

()ì™€ constëŠ” ê°™ì€ ì—­í• ì„ í•´ì¤ë‹ˆë‹¤. request.dataëŠ” resultë‘ ê°™ìŠµë‹ˆë‹¤.
